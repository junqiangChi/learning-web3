### 什么是比特币中的 P2P 网络技术？
>
>P2P 网络技术：比特币的点对点（P2P）网络技术是其核心组成部分之一，使其能够作为一个去中心化的数字货币系统运行。在比特币网络中，所有的交易和区块都通过 P2P 网络传播，这种网络结构意味着没有中央服务器。每个网络节点都在本地保存完整的交易记录，并参与网络的管理。

### 区块链在比特币中起什么作用？
>
>比特币通过分布式账本存储交易信息，没有中心机构，而是将数据存储在全网所有加入比特币网络的节点上。每个区块相当于一个小账本，记录了多笔交易信息和上一个区块的哈希地址。区块通过链式结构链接在一起，形成一个完整的账本体系。

### 比特币如何使用工作量证明机制？
>
>工作量证明机制（Proof of Work）是比特币的核心机制之一。工作量证明机制是一种通过计算来证明工作量的过程，目的是为了防止网络中恶意节点对区块链的篡改。工作量证明机制的原理是，每个节点都需要完成一定的计算任务，并将结果提交到网络中，其他节点验证结果的有效性。通过完成计算任务，节点可以获得比特币的奖励，同时也能证明自己的计算能力。
>了保证每个账本的一致性，比特币引入了工作量证明机制。网络中的节点需要完成系统提供的数学题（即进行耗费算力和时间的哈希计算）才能获得记账权。谁先完成计算并满足条件，就优先获得记账权。这一机制不仅确保了账本的一致性，还保障了区块链的安全。

### 最长链原则是如何在比特币中应用的？

>在传统交易中，由中心机构进行双花（双重支付）防护，但在区块链架构中，这一问题通过最长链原则来解决。同一笔钱的多次交易中，只有第一次交易有效，且这些交易不可能存在于同一个链条中。第二次交易所在区块一定是从主链上分叉出去的。由于记账权的竞争依赖于算力，而比特币系统中任意节点都可以竞争记账权，主链增长速度更快，分叉链条则较慢。最终，由于攻击者的算力无法与全网算力竞争，只有主链会被系统承认，从而解决双花问题。

### 比特币系统中的分叉是如何发生的？

>对于比特币这样的去中心化系统，升级是非常困难的，需要协调网络中每个参与者。软件升级意味着运行逻辑的改变，在比特币中，升级必然会导致不同节点在一定时间内运行不同的版本，从而产生分叉。

### 硬分叉与软分叉有何区别？

- 硬分叉:旧节点会认为新增的区块是非法的，不予认可。旧节点会继续基于原来的区块链条生成新区块。由于新旧节点不兼容，主链就会发生分叉，从而产生第二条链。  
- 软分叉:指比特币协议发生部分变化，但旧节点仍能接受新节点产生（挖出）的区块，并基于新区块继续添加旧区块。由于软分叉是向前兼容的，新旧节点仍然运行在同一条区块链上，不会产生两条链，因此对整个系统的影响相对较小。

### 什么是比特币的 Coinbase 交易？

每个区块都会包含至少一个交易，第一笔交易就叫做 coinbase，每笔交易都包含了 input 和 output，正常交易的 input 是转账来源方的钱包地址，output 就是接收方的地址；而 coinbase 的 input 没有任何地址，只有 output 记录了给与矿工打包区块成功的奖励和手续费。Coinbase 是一笔特殊交易

### UTXO 模型是什么？

>UTXO（Unspent Transaction Output）模型是比特币的核心数据结构。UTXO 模型是一种分类账模型，它将所有未消费的交易输出（Transaction Output）都存储在一个地方，称为“UTXO”，每个 UTXO 都包含一个锁定期（Lock Time），只有在锁定期内才能被消费。UTXO 模型的好处是，它简化了比特币的转账流程，使得用户可以直接从自己的钱包中选择需要的 UTXO 进行消费，而无需担心交易冲突。

### 比特币如何解决双花问题？

比特币通过网络中的节点验证所有新交易是否引用了有效的 UTXO 来解决双花问题。一旦 UTXO 被交易引用，它就被标记为已花费，不能再次使用。

- UTXO：当一个用户接收比特币时，该金额被记录为未花费的交易输出（UTXO）并存储在区块链中。比特币系统记录每一笔未花费的交易输出。当一笔比特币交易被创建并广播到区块链网络后，接收到此交易信息的节点会对其进行验证，检查其是否存在于 UTXO 数据库中。如果交易输出已不存在于 UTXO 中，则验证失败。
- 区块时间戳：当一个用户将 1 个比特币同时转账给两人时，只有一笔交易会成功。矿工会选择记录优先接收到的或手续费更高的交易。当交易被矿工记录到区块后，根据区块时间戳的大小来判断，最先被记录（时间戳较小）的交易为有效，其他记录了相同 UTXO 的交易的区块将被网络拒绝（因为该 UTXO 已被花费）。
- 6 次确认：指在当前区块之后又有 5 个区块被计算出来并连接到区块链上，每一个区块都相当于对前一个区块的确认。区块链上每增加一个区块，就增大了前面区块被篡改的难度。通常认为，在 6 个区块确认之后，交易基本上无法被篡改，因此被认为是最终完成的交易。
- 分叉及最长链原则：在同一时间段内，全网可能有多个节点同时计算出正确的随机数，即同时挖到矿。这些节点会将自己挖到的区块添加到本地区块链上，导致区块链分叉。矿工会在网络中广播自己打包好的区块，以便其他节点同步最新数据，并在最新的区块链上继续挖矿。由于同步需要时间，不同矿工看到这些区块的顺序会有所不同。矿工会复制先看到的区块，并在其基础上继续挖矿。最终，最长的链条会被确认为主链，其他分支链条上的节点将转换阵营，开始在较长的链条上工作，其他分叉出来的链将被网络抛弃。

### 什么是比特币的工作量证明（PoW）机制？

>工作量证明（PoW）机制是比特币的核心机制之一。工作量证明机制是一种通过计算解雇一个数学难题来证明工作量的过程，目的是为了防止网络中恶意节点对区块链的篡改。工作量证明机制的原理是，每个节点都需要完成一定的计算任务，并将结果提交到网络中，其他节点验证结果的有效性。通过完成计算任务，节点可以获得比特币的奖励，同时也能证明自己的计算能力。

### 比特币地址是如何生成的？

>比特币地址是通过将用户的公钥通过哈希算法进行处理后，再通过 Base58 编码形式生成的一串字符。这为比特币提供了一个接收点

### 隔离见证（SegWit）是什么，它如何工作？

>隔离见证（SegWit）是比特币的升级版本，它通过减少区块大小来提高网络的安全性。隔离见证通过将交易数据与脚本分离，从而减少区块大小。
>它通过将签名数据（见证信息）从交易中分离出来，不再计算交易 ID，从而允许更多的交易被包含在一个区块中

### 比特币挖矿是如何进行的？

>比特币的挖矿过程分为两个阶段：第一阶段是工作量证明（PoW），第二阶段是交易确认。
>第一阶段：矿工通过完成一系列的计算任务来证明自己的计算能力。矿工需要完成一个数学难题，并将结果提交到网络中。其他节点验证结果的有效性，并给予奖励。  
>第二阶段：交易确认：当一个交易被确认后，它就被认为是有效的，并被添加到区块链中。交易确认需要 6 个区块的确认，这意味着交易被记录到区块链上后，至少有 6 个节点确认其有效性。

### 比特币网络是如何保护用户隐私的？

>比特币网络是一种去中心化的数字货币系统，它不依赖于任何中心化机构，所有交易都通过 P2P 网络进行。比特币网络不存储用户的个人信息，而是使用公钥进行身份验证。用户的公钥是通过对私钥进行加密得到的，私钥是用户拥有的唯一标识符。公钥和私钥是一对一的关系，任何人都可以根据公钥进行验证，但只有拥有私钥的用户才能解密。
>尽管所有交易都是公开的，比特币提供了一定的隐私保护，因为交易不直接与用户的真实身份关联，而是与他们的公钥或地址关联

### 比特币的难度调整是如何工作的？

>比特币的难度调整是为了防止网络中恶意节点对区块链的篡改。比特币的难度调整机制是通过每 2016 个区块（约 4 年）调整一次难度，使得网络的算力在一定程度上保持平均分布,确保平均每10分钟产生一个区块
>如果挖矿速度比预期快，则难度增加；如果慢，则难度减少。
